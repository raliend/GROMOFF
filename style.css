/* ─────────── 1. Базовые стили и переменные тем ─────────── */
:root {
  --bg: #F7F9FB;
  --primary-text: #0D1B2A;
  --accent: #29C6B9;
  --muted-text: #8A97A6;
  --card-bg: #FFFFFF;
  --border-color: #e0e5eb;
}

[data-theme="dark"] {
  --bg: #0D1B2A;
  --primary-text: #F7F9FB;
  --accent: #29C6B9;
  --muted-text: #8A97A6;
  --card-bg: #1f2937;
  --border-color: #374151;
}

*{box-sizing: border-box; margin: 0; padding: 0}
body{
  background: var(--bg);
  color: var(--primary-text);
  font: 18px/1.6 'Inter', sans-serif;
  scroll-behavior: smooth;
  position: relative;
  overflow-x: hidden;
  transition: background 0.3s, color 0.3s;
}

/* ─────────── 2. Навигация и инверсия логотипов ─────────── */
nav{
  position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
  display: flex; justify-content: space-between; align-items: center;
  background: rgba(247, 249, 251, .7);
  backdrop-filter: blur(8px);
  padding: 10px 30px; border-bottom: 1px solid var(--border-color);
  height: 70px;
  transition: background 0.3s, border-color 0.3s;
}
[data-theme="dark"] nav {
    background: rgba(13, 27, 42, .7);
}
.nav-left {
    display: flex;
    align-items: center;
    gap: 15px; /* Пространство между переключателем темы и языка */
}
.theme-switcher {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    transition: transform 0.3s, background 0.3s, border-color 0.3s;
    overflow: hidden;
}
.theme-switcher:hover { transform: scale(1.1); }
.theme-switcher img {
    height: 100%;
    width: 100%;
    object-fit: cover;
    transition: filter 0.3s ease-in-out;
}
.case-icon {
    width: 80px;
    height: 80px;
    flex-shrink: 0;
    object-fit: cover;
    border-radius: 8px;
}

/* Правило для инверсии логотипов в темной теме */
[data-theme="dark"] #theme-logo,
[data-theme="dark"] .exp-logo:not(.no-invert) {
    filter: invert(1) hue-rotate(180deg);
}

/* Стили для переключателя языка (TUMBLER) */
.language-switcher {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: bold;
    color: var(--primary-text);
}

/* The switch - the box around the slider */
.switch {
    position: relative;
    display: inline-block;
    width: 50px; /* Немного меньше */
    height: 28px; /* Немного меньше */
}

/* Hide default HTML checkbox */
.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

/* The slider */
.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    -webkit-transition: .4s;
    transition: .4s;
}

.slider:before {
    position: absolute;
    content: "";
    height: 20px; /* Немного меньше */
    width: 20px; /* Немного меньше */
    left: 4px;
    bottom: 4px;
    background-color: white;
    -webkit-transition: .4s;
    transition: .4s;
}

input:checked + .slider {
    background-color: var(--accent); /* Используем акцентный цвет */
}

input:focus + .slider {
    box-shadow: 0 0 1px var(--accent);
}

input:checked + .slider:before {
    -webkit-transform: translateX(22px); /* Адаптируем смещение */
    -ms-transform: translateX(22px);
    transform: translateX(22px);
}

/* Rounded sliders */
.slider.round {
    border-radius: 28px; /* Адаптируем радиус */
}

.slider.round:before {
    border-radius: 50%;
}

nav ul{display: flex; gap: 24px; list-style: none}
nav li a{color: var(--primary-text); text-decoration: none; font-weight: 500; transition: .3s}
nav li a:hover{color: var(--accent)}

.burger{display: none; flex-direction: column; gap: 4px; cursor: pointer}
.burger span{width: 24px; height: 3px; background: var(--primary-text)}
@media(max-width: 768px){
  nav ul{display: none; position: absolute; top: 70px; left: 0; right: 0;
         flex-direction: column; gap: 16px; background: var(--bg); padding: 20px;
         border-bottom: 1px solid var(--border-color);}
  nav ul.open{display: flex}
  .burger{display: flex}
}

/* ─────────── 3. Секции и Hero-блок (по центру) ─────────── */
section{padding: 80px 20px; max-width: 1100px; margin: auto; position: relative}
h2{font-family: 'Montserrat'; font-size: 28px; margin-bottom: 40px; text-align: center;}
h3{font-family: 'Montserrat'; font-size: 22px; margin-bottom: 15px;}

/* Основной контейнер для резюме - будет динамически заполняться */
#resume-content {
    max-width: 960px;
    margin: 20px auto;
    background: var(--card-bg);
    padding: 20px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    transition: background 0.3s, color 0.3s, box-shadow 0.3s;
}

/* Basic resume styling (из предыдущего ответа) */
#resume-content h2 {
    color: var(--accent);
    border-bottom: 2px solid var(--accent);
    padding-bottom: 5px;
    margin-top: 30px;
    text-align: left; /* Переопределяем выравнивание для заголовков секций внутри резюме */
}

#resume-content h3 {
    color: var(--primary-text);
    margin-top: 20px;
}

#resume-content ul {
    list-style-type: disc;
    margin-left: 20px;
}

#resume-content ul li {
    margin-bottom: 5px;
}

.section-item {
    margin-bottom: 15px;
}

.dates {
    font-style: italic;
    color: var(--muted-text);
}

.hero{
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding-top: 120px;
}
.hero .avatar {
    width: 200px;
    height: 200px;
    border-radius: 50%;
    object-fit: cover;
    margin-bottom: 20px;
    border: 4px solid var(--accent);
}
.hero h1{font-family: 'Montserrat'; font-size: 38px; margin-bottom: 8px}
.hero .role{font-weight: 500; font-size: 20px; color: var(--accent); margin-bottom: 30px}
.cta a{display: inline-block; margin: 0 10px; padding: 12px 24px;
       border: 2px solid var(--accent); border-radius: 6px; text-decoration: none;
       color: var(--accent); font-weight: 500; transition: .3s}
.cta a:hover{background: var(--accent); color: var(--card-bg)}

/* ─────────── 4. Опыт работы (интерактивные овалы) ─────────── */
.experience-grid {
    display: flex;
    justify-content: center;
    gap: 40px;
    flex-wrap: wrap;
    margin-top: 50px;
}
.experience-card {
    width: 200px;
    height: 200px;
    border-radius: 50%;
    background-color: var(--card-bg);
    border: 2px solid var(--border-color);
    cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s, background-color 0.3s, border-color 0.3s;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
}
.experience-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}
.exp-logo {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Изменено с contain на cover */
    transition: filter 0.3s ease-in-out;
}
.exp-year {
    font-family: 'Montserrat';
    font-weight: 700;
    color: var(--muted-text);
    font-size: 14px;
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255, 255, 255, 0.8);
    padding: 3px 10px;
    border-radius: 12px;
    z-index: 1;
    transition: background .3s, color .3s;
    width: max-content;
}
[data-theme="dark"] .exp-year {
    background: rgba(0, 0, 0, 0.7);
    color: #ccc;
}


/* ─────────── 5. Модальное окно (Pop-up) для опыта ─────────── */
.modal-overlay {
    position: fixed; top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.7);
    display: flex; align-items: center; justify-content: center;
    z-index: 2000;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}
.modal-overlay.is-visible { opacity: 1; pointer-events: auto; }
.modal-content {
    background: var(--bg); padding: 40px; border-radius: 12px;
    max-width: 600px; width: 90%;
    position: relative;
    transform: scale(0.9);
    transition: transform 0.3s ease, background 0.3s;
}
.modal-overlay.is-visible .modal-content { transform: scale(1); }
.modal-close {
    position: absolute; top: 15px; right: 15px;
    font-size: 24px; cursor: pointer; border: none; background: none; color: var(--primary-text);
}
.modal-content h3 { font-family: 'Montserrat'; font-size: 24px; margin-bottom: 20px; color: var(--accent); }
.modal-content ul { list-style-type: '✓ '; padding-left: 20px; }
.modal-content li { margin-bottom: 10px; padding-left: 10px; }

/* ─────────── 6. Остальные секции ─────────── */
/* Эти стили не будут использоваться напрямую, так как контент генерируется JS */
/* Но оставлены на случай, если часть контента будет статической */
#about .about-grid {display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;}
#about .about-grid h3 {color: var(--accent);}
#about .about-grid p {font-size: 16px;}

.cases-grid{display: grid; grid-template-columns: 1fr; gap: 30px;}
.case-card{background: var(--card-bg); border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,.06); overflow: hidden; cursor: pointer; transition: transform .3s, background .3s;}
.case-card:hover {transform: translateY(-5px);}
.case-header {display: flex; gap: 20px; padding: 24px; align-items: center;}
.case-title h3{margin: 0; font-size: 22px;}
.case-title p {color: var(--muted-text); margin: 0;}
.case-review {max-height: 0; overflow: hidden; transition: max-height 0.5s ease-out, padding 0.5s ease-out; padding: 0 24px; background: rgba(0,0,0,0.05);}
[data-theme="dark"] .case-review { background: rgba(255,255,255,0.05); }
.case-card.is-open .case-review {max-height: 500px; padding: 20px 24px;}
.case-review blockquote {border-left: 3px solid var(--accent); padding-left: 15px; margin: 0; font-style: italic;}
.case-review footer {text-align: right; color: var(--muted-text); font-size: 14px; font-style: normal;}

.competencies-grid{display: flex; flex-wrap: wrap; gap: 30px; justify-content: space-between;}
.competency-block{flex: 1 1 300px; background: var(--card-bg); padding: 24px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,.05); transition: background 0.3s;}
.competency-block h3{color: var(--accent)}
.skillbox{margin-bottom: 20px}
.skill-label{display: flex; justify-content: space-between; font-weight: 500; margin-bottom: 8px}
.skill-bar{background: var(--border-color); border-radius: 8px; overflow: hidden; height: 12px; transition: background 0.3s;}
.skill-bar-fill{height: 100%; background: var(--accent); width: 0; border-radius: 8px; transition: width 1.8s cubic-bezier(0.25, 1, 0.5, 1)}

/* ─────────── 7. Подвал и Контакты (отцентровано) ─────────── */
#contact { text-align: center; }
footer{text-align: center; padding: 30px; color: var(--muted-text); font-size: 14px}

/* ─────────── 8. Анимация молний ─────────── */
.lightning-container{position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1;}
.lightning{
    position: absolute;
    opacity: 0;
    filter: drop-shadow(0 0 10px var(--accent));
    animation: thunder-strike 4s infinite ease-out;
    background-image: url('data:image/svg+xml;utf8,<svg fill="%2329C6B9" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 2L3 14h7l-1 8 10-12h-7l1-8z"/></svg>');
    background-repeat: no-repeat;
    background-size: contain;
    transition: transform 0.4s ease-out;
    width: 8vw; /* Адаптивная ширина */
    height: 10vh; /* Адаптивная высота */
}
@keyframes thunder-strike { 0%, 100% { opacity: 0; } 50% { opacity: 0.6; } }

/* Отключаем молнии на мобильных */
@media(max-width: 768px){
    .lightning-container { display: none; }
}
